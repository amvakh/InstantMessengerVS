package UDP;

import java.net.*;
import java.io.*;

public class UDPClient {
    // Run the client first to get input, then run the server
    public static void main(String[] args) throws Exception {
        ServerSocket serverSocket = new ServerSocket(8080);
        Socket socket = serverSocket.accept();
        try(FileInputStream fileInputStream = new FileInputStream("/Volumes/Mac Online/UDP_input.txt")) {
            byte[] buffer = new byte[1024];
            int length = fileInputStream.read(buffer, 0, buffer.length);
            OutputStream outputStream = socket.getOutputStream();
            outputStream.write(buffer, 0, length);
            outputStream.flush();
        } catch(FileNotFoundException exception) {
            System.out.println("An error occurred: \n");
            exception.printStackTrace();
        } finally {
            socket.close();
            serverSocket.close();
        }
    }
}
